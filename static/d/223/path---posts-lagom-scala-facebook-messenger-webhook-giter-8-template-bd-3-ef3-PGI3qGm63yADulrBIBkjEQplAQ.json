{"data":{"site":{"siteMetadata":{"title":"Snorting Code, Et al.","subtitle":"I don't take myself too seriously!","copyright":"© All rights reserved.","author":{"name":"Prasoon","twitter":"prasoonj"},"disqusShortname":"snortingcode","url":"https://prasoonj.github.io/snortingcode"}},"markdownRemark":{"id":"c632c922-4122-591d-b708-6e1db729ad00","html":"<p>Setting up the Facebook messenger’s webhook (to be able to receive messages from the Facebook Messenger API) is a one time task that all your FB apps would need to do. Essentially, Facebook would need a <code class=\"language-text\">verification</code> endpoint on your webserver to verify your webhook after which it would post the messages that you subscribe to. If you are using Lagom’s ( <em>almost magical</em> ) webservices framework, you might want to start with this <code class=\"language-text\">giter8</code> template to <a href=\"url:https://github.com/prasoonj/lagom-fbmessenger-webhook.g8\">get a working webhook out of the box</a>.</p>\n<h1>Usage</h1>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ sbt new prasoonj/lagom-fbmessenger-webhook.g8\n[info] Set current project to test (in build file:/Users/prasoonjoshi/code/test/)\n\nThe next big ChatBot.\n\nname [Hello]: chatbot  \norganization [com.example]:\nversion [1.0-SNAPSHOT]:\npackage [com.example.chatbot]:\nfacebookVerificationToken [somecomplicatedtoken]: secrettoken\n\nTemplate applied in ./chatbot\n\n$ tree -L 3\n.\n├── chatbot\n│   ├── build.sbt\n│   ├── project\n│   │   ├── build.properties\n│   │   └── plugins.sbt\n│   ├── webhooks-api\n│   │   └── src\n│   └── webhooks-impl\n│       └── src\n└── target\n    └── streams\n        └── $global\n\n9 directories, 3 files\n\n$ cd chatbot\n$ sbt runAll\n\n$ curl -X GET \\\n  &#39;http://localhost:9000/api/v1/fbwebhook?hub.challenge=asdf&amp;hub.mode=subscribe&amp;hub.verify_token=somecomplicatedtoken&#39;</code></pre></div>\n<h1>WIP</h1>\n<p>There is really not much to the <code class=\"language-text\">verification</code> endpoint! On the <code class=\"language-text\">POST</code> side of things, the <code class=\"language-text\">case classes</code> used to model the Facebook Messages need a lot of improvements. I would modify them as I get more time to work on this. Please send PRs if you think this might speed your development and you decide to contribute :)</p>","fields":{"tagSlugs":["/tags/giter-8/","/tags/facebook/","/tags/lagom/","/tags/scala/"]},"frontmatter":{"title":"Lagom scala facebook messenger webhook giter8 template","tags":["giter8","facebook","lagom","scala"],"date":"2018-04-09T23:41:30+05:30","description":null}}},"pageContext":{"slug":"posts/lagom-scala-facebook-messenger-webhook-giter8-template"}}