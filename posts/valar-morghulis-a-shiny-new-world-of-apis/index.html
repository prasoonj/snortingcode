<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/snortingcode/component---src-templates-post-template-jsx.d87192e7e6bc9581c41d.css">/*! normalize.css v5.0.0 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,footer,header,nav,section{display:block}h1{font-size:2em;margin:.67em 0}figcaption,figure,main{display:block}figure{margin:1em 2.5rem}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}dfn{font-style:italic}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}audio,video{display:inline-block}audio:not([controls]){display:none;height:0}img{border-style:none}svg:not(:root){overflow:hidden}button,input,optgroup,select,textarea{font-family:sans-serif;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 .125rem;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{display:inline-block;vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details,menu{display:block}summary{display:list-item}canvas{display:inline-block}[hidden],template{display:none}html{font-size:100}body{color:#222;line-height:1.625;font-size:1rem;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body,h1,h2,h3,h4,h5,h6{font-family:Roboto,Helvetica Neue,Helvetica,Arial,sans-serif}h1,h2,h3,h4,h5,h6{font-weight:500}h1{font-size:2.5rem;line-height:3.25rem;margin-top:6.5rem;margin-bottom:1.625rem}h2{font-size:1.6875rem;line-height:2.4375rem}h2,h3{margin-top:3.25rem;margin-bottom:.8125rem}h3{font-size:1.375rem;line-height:1.625rem}h4{font-size:1.2rem;margin-top:2.4375rem}h4,h5{line-height:1.625rem;margin-bottom:.8125rem}h5,h6{font-size:1rem;margin-top:4.0625rem}h6{line-height:1.625rem;margin-bottom:.8125rem}img{max-width:100%;margin:inherit auto}hr,img{border:0;display:block}hr{color:#222;height:26px;margin:3.25rem auto;background-size:100% 26px;background-image:linear-gradient(180deg,transparent 1px,transparent 11px,#222 0,#222 15px,transparent 0,transparent 26px);width:6.25rem}a{color:#5d93ff;text-decoration:none}a:active,a:focus,a:hover{color:#f7a046}b,strong{font-weight:500}ul{list-style:square;margin-bottom:1.625rem}ul li{padding:0 .3125rem;margin-bottom:.625rem}p{line-height:1.625rem;margin-bottom:1.625rem}blockquote{padding:0;font-style:italic;text-align:center}figure{display:block;width:100%;height:auto}figcaption{line-height:1.21875rem;margin-top:.40625rem;color:#222;font-size:.875rem;font-style:italic;margin-bottom:0;text-align:center}.layout{max-width:66.875rem;margin-left:auto;margin-right:auto}.layout:after,.layout:before{content:"";display:table}.layout:after{clear:both}.content__inner{padding:1.5625rem 1.25rem}@media screen and (min-width:685px){figure.float-left,figure.float-right{max-width:19.375rem;padding:0 1.625rem}.float-right{float:right}.float-left{float:left}.content{width:calc(58.275% - .78125rem)}.content:nth-child(1n){float:left;margin-right:1.875rem;clear:none}.content:last-child{margin-right:0}.content:nth-child(12n){margin-right:0;float:right}.content:nth-child(12n+1){clear:both}.content__inner{padding:1.875rem 1.25rem}}@media screen and (min-width:960px){.content{width:calc(66.6% - .625rem)}.content:nth-child(1n){float:left;margin-right:1.875rem;clear:none}.content:last-child{margin-right:0}.content:nth-child(3n){margin-right:0;float:right}.content:nth-child(3n+1){clear:both}.content__inner{padding:2.5rem 2.1875rem}}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#a67f59;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.tags__list-item-link{color:#222}.tags__list-item-link:focus,.tags__list-item-link:hover{color:#5d93ff;border-bottom:1px solid #5d93ff}.categories__list-item-link{color:#222}.categories__list-item-link:focus,.categories__list-item-link:hover{color:#5d93ff;border-bottom:1px solid #5d93ff}.post-single__inner{max-width:59.0625rem;padding:0 .9375rem;margin:0 auto}.post-single__title{font-size:2rem;max-width:40rem;font-weight:600;text-align:center;line-height:2.68125rem;margin:1.625rem auto 0}.post-single__body figure{margin-bottom:1.625rem}.post-single__body figure blockquote{font-style:italic;text-align:center;margin-top:0;padding:1.625rem 0}.post-single__body figure blockquote p{max-width:40rem;font-size:1.6817rem;margin-top:0;margin-bottom:1.625rem;line-height:2.4375rem}.post-single__body a{text-decoration:underline}.post-single__body .gatsby-highlight{max-width:40rem;margin-left:.9375rem;margin-right:.9375rem;margin-bottom:1.625rem}.post-single__body :not(div){max-width:40rem;margin-left:auto;margin-right:auto}.post-single__footer{max-width:40rem;line-height:1.625rem;margin:1.625rem .9375rem 3.25rem}.post-single__footer-text a{text-decoration:underline}.post-single__date{max-width:40rem;margin-left:auto;margin-right:auto}.post-single__tags{margin-bottom:.8125rem}.post-single__tags-list{list-style:none;margin:0 -.3125rem;padding:0}.post-single__tags-list-item{display:inline-block;margin:.625rem .3125rem}.post-single__tags-list-item-link{background:#ebebeb;text-decoration:none;border:0;border-radius:.1875rem;color:#555;line-height:1.625;padding:.5rem 1rem}.post-single__tags-list-item-link:focus,.post-single__tags-list-item-link:hover{color:#222;background:#dfdfdf;border:0}.post-single__home-button{display:block;margin-left:auto;margin-right:auto;max-width:5.625rem;font-size:1rem;padding:0 1rem;height:35px;line-height:2.1875rem;text-align:center;color:#555;background:#ebebeb;font-weight:400;border-radius:.1875rem;margin-top:1.625rem}.post-single__home-button:focus,.post-single__home-button:hover{color:#222;background:#dfdfdf;border:0}@media screen and (min-width:685px){.post-single__body .gatsby-highlight,.post-single__footer{margin-left:auto;margin-right:auto}}@media screen and (min-width:960px){.post-single__inner{padding:0}.post-single__title{font-size:3rem;line-height:3.65625rem;margin-top:3.65625rem;margin-bottom:2.4375rem}.post-single__body,.post-single__body p{font-size:1.125rem;line-height:1.82813rem;margin-bottom:1.82813rem}.post-single__home-button{position:fixed;max-width:auto;margin:0;top:30px;left:30px}}</style><meta name="generator" content="Gatsby 2.0.22"/><link rel="alternate" type="application/rss+xml" href="/snortingcode/rss.xml"/><link href="https://fonts.googleapis.com/css?family=Roboto:400,400i,500,700" rel="stylesheet"/><link rel="sitemap" type="application/xml" href="/snortingcode/sitemap.xml"/><title data-react-helmet="true">Valar Morghulis - A Shiny New World Of APIs - Snorting Code, Et al.</title><meta data-react-helmet="true" name="description" content="I don&#x27;t take myself too seriously!"/><link as="script" rel="preload" href="/snortingcode/webpack-runtime-e2fbc02420848e7f8ad7.js"/><link as="script" rel="preload" href="/snortingcode/app-8ab4cffe004882682eef.js"/><link as="script" rel="preload" href="/snortingcode/0-67c09113654780576fac.js"/><link as="script" rel="preload" href="/snortingcode/3-449755f3954bae9e5e9a.js"/><link as="script" rel="preload" href="/snortingcode/component---src-templates-post-template-jsx-357bb4275cbc4d79dd0c.js"/><link rel="preload" href="/snortingcode/static/d/790/path---posts-valar-morghulis-a-shiny-new-world-of-apis-964-726-MdBK8ibnAF2tYcYAHXOOY5i7eEc.json" as="fetch" crossOrigin="use-credentials"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div class="layout"><div><div><div><a class="post-single__home-button" href="/snortingcode/">All Articles</a></div><div class="post-single"><div class="post-single__inner"><h1 class="post-single__title">Valar Morghulis - A Shiny New World Of APIs</h1><div class="post-single__body"><p>In a perfect world code would talk with code and do so seamlessly.  Sadly, as is the case with everything that man has built, APIs come in different shapes and sizes and getting them to talk with each other can sometimes be the major pain in your posterior.
The most common way of thinking of APIs/webservices today is going RESTful. It is common because it is efficient, simple and (if done well) can be an elegant way of opening up your system to the outside world.
I will try to list down a few best practices (as they are called) which are rather common sense checklist that one must keep in mind before venturing out to design an API:
Versioning - Even if you are making an API that only talks to your own front-end code hosted on the same box, it makes sense to have a version number for your API. Most frameworks that help you build quick and robust APIs already give a provision to include a version number, if the one you are using does not, make sure you do that extra bit of adding one to the endpoint url. It would make the life of clients interacting with your API a lot easier when something changes.The way you include is a matter of aesthetics! I personally like to have something of this sort:
<a href="http://api.awesomeapp.com/v1/users">http://api.awesomeapp.com/v1/users</a>
You can include it as a query parameter as well, which brings us to the next point.</p>
<p>Clean URL vs query parameters - Again, this is a matter of choice. No really! Ideally, let the juice of the request be clean and use query parameters for things like ‘offset’, etc.The ”juice of the request’ is the end-point name, version number of the API, etc.examples:
<a href="http://api.awesomeapp.com/v1/users/id">http://api.awesomeapp.com/v1/users/id</a>
<a href="http://api.awesomeapp.com/v1/users?offset=1000&#x26;fromId=1234">http://api.awesomeapp.com/v1/users?offset=1000&#x26;fromId=1234</a></p>
<p>RESTFul is old school (and it kicks ass) - REST is nothing new. It is not a new protocol,  just a new way of looking at API with old (experienced) eyes. REST is built on the good old http protocol. The basic idea is to use the http methods (GET, POST, PUT, DELETE) along with an end-point (and throw in your common sense along).Here’s the common sense bit: Take GET for example for the resource ”users’. If the url points to a specific record (which is the case when, say, an ”id’ is appended at the end) return that record, otherwise return a list of records.
Returning lists - Not many systems would like to receive hundred thousand records when they query your API! Always use lazy-loading of objects and limit the number of records that are fetched together and sent back in the response. Use ”offset’, etc. in the query parameters to get the remaining set. (Streaming APIs are a different beast that we’ll kill in another episode)
HATEOAS is your best friend - I recommend that you visit that link and read more on HATEOAS! In short what it means is that when you send your response, let’s say, for a list of users, make sure that each user node in that list has a uri pointing to that particular user. Which brings us to the next point.
Data exchange - I would highly recommend using JSON as the format of data exchange between the server and the client. JSON format is clean, easily extendable and almost every language has great JSON parsers that make life easy for you. If you are using something like MongoDb as your database, the implementation becomes a piece of cake because Mongo uses BSON and in most cases all you’ll have to do is use the request and response interchangeably to communicate between the server and client.
Authentication - There are many options. The option that you should never opt is an API without authentication!!! I would suggest you to go for OAuth (there are different versions - look for a future post on this site for which one to use or go read the rfc notes). It is the recommended way of authentication for web-services and there are tons of libraries that you can use to create your own OAuth provider.
Don’t be a snobbish web-service - Be good to the client! Do proper error handling and always return proper (documented) error messages/codes in the same format that success responses go. For example, don’t throw a 404 HTTP error code response, have an error code inside your 200 response that tells the client that the request failed, etc. Include URIs to help documentation in the error response or at the least give detailed error messages.
Good to haves - Here are a few things that are good to bundle with your API implementation. They go well with the point number 8 above:Build a test client that let’s your users experiment on a test data set.
Have an API schema entry point. This should list out all entry points of the API (think of this as the top level of a perfect HATEOAS implementation)
Design the APIs in such a way that even when the implementation behind the scenes changes, the API end-points remain the same (this is in fact one of the most important thing to consider in API design!)</p>
<p>[I’ll try to keep expanding this list, while trying to keep it short. Think of this as a ”notes-to-self’ post so I’ll come back and add links to resources and share more refined knowledge as I learn more. Do comment with your suggestions.]</p></div><div class="post-single__date"><em>Published <!-- -->4 Jul 2014</em></div></div><div class="post-single__footer"><div class="post-single__tags"><ul class="post-single__tags-list"><li class="post-single__tags-list-item"><a class="post-single__tags-list-item-link" href="/snortingcode/tags/api/">api</a></li><li class="post-single__tags-list-item"><a class="post-single__tags-list-item-link" href="/snortingcode/tags/apidesign/">apidesign</a></li><li class="post-single__tags-list-item"><a class="post-single__tags-list-item-link" href="/snortingcode/tags/hateoas/">hateoas</a></li><li class="post-single__tags-list-item"><a class="post-single__tags-list-item-link" href="/snortingcode/tags/oauth/">oauth</a></li></ul></div><hr/><p class="post-single__footer-text">I don&#x27;t take myself too seriously!<a href="https://twitter.com/prasoonj" target="_blank" rel="noopener noreferrer"><br/> <strong>Prasoon</strong> on Twitter</a></p><div><div><div id="disqus_thread"></div></div></div></div></div></div></div></div></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-73379983-2', 'auto', {});
      
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-post-template-jsx","jsonName":"posts-valar-morghulis-a-shiny-new-world-of-apis-964","path":"/posts/valar-morghulis-a-shiny-new-world-of-apis"};window.dataPath="790/path---posts-valar-morghulis-a-shiny-new-world-of-apis-964-726-MdBK8ibnAF2tYcYAHXOOY5i7eEc";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-8ab4cffe004882682eef.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-75ac8e86c1cf4c1e89e8.js"],"component---src-templates-page-template-jsx":["/component---src-templates-page-template-jsx.bd3413590f4031314c23.css","/component---src-templates-page-template-jsx-44ec9394cbdc364523eb.js"],"component---src-templates-post-template-jsx":["/component---src-templates-post-template-jsx.d87192e7e6bc9581c41d.css","/component---src-templates-post-template-jsx-357bb4275cbc4d79dd0c.js"],"component---src-templates-category-template-jsx":["/component---src-templates-category-template-jsx.69a945a11e23dfafac91.css","/component---src-templates-category-template-jsx-6d26d68beb6ccb055149.js"],"component---src-templates-tag-template-jsx":["/component---src-templates-tag-template-jsx.69a945a11e23dfafac91.css","/component---src-templates-tag-template-jsx-356b820928914f5c3e07.js"],"component---src-pages-404-jsx":["/component---src-pages-404-jsx-68f8d44b6c86c24cae96.js"],"component---src-pages-categories-jsx":["/component---src-pages-categories-jsx-26bd3cb76a5a520d8880.js"],"component---src-pages-index-jsx":["/component---src-pages-index-jsx.69a945a11e23dfafac91.css","/component---src-pages-index-jsx-b42389bb6649d222fbac.js"],"component---src-pages-tags-jsx":["/component---src-pages-tags-jsx-fff49ebe6b1593dd4f9d.js"]};/*]]>*/</script><script src="/snortingcode/component---src-templates-post-template-jsx-357bb4275cbc4d79dd0c.js" async=""></script><script src="/snortingcode/3-449755f3954bae9e5e9a.js" async=""></script><script src="/snortingcode/0-67c09113654780576fac.js" async=""></script><script src="/snortingcode/app-8ab4cffe004882682eef.js" async=""></script><script src="/snortingcode/webpack-runtime-e2fbc02420848e7f8ad7.js" async=""></script></body></html>